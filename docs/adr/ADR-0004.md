# ADR-0004: Reconciliation Worker

## Status
Accepted

## Context
Los PSP/bancos pueden dejar operaciones en estado incierto o con callbacks perdidos.

## Decision
Cuando no hay confirmación en ventana razonable, marcamos Payment como Unknown (PaymentMarkedUnknown).
Un worker consulta/valida contra el PSP y corrige el estado (captured/failed/etc.) de forma idempotente.

## Consequences
+ Reduce “pagos colgados”.
+ Evita intervención manual.
- Necesita límites: rate limiting, ventanas, auditoría y trazabilidad.
