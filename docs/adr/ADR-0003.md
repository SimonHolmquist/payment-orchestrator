# ADR-0003: Transactional Outbox

## Status
Accepted

## Context
Publicar mensajes “directo al broker” dentro de la transacción de DB produce inconsistencias (DB commit ok / publish falla o viceversa).

## Decision
Persistimos eventos en una tabla/colección Outbox dentro de la misma transacción que el cambio de estado.
Un worker (OutboxPublisher) publica de forma asíncrona e idempotente.

## Consequences
+ Garantía de entrega eventual sin perder eventos.
+ Permite reintentos, backoff, DLQ.
- Mayor complejidad operativa (tabla outbox, limpieza, dedupe).
